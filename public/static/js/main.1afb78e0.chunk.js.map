{"version":3,"sources":["lib/auth-service.js","lib/Auth.js","components/Navbar.js","lib/bookAPI-helper.js","lib/collections-services.js","components/DefaultCollectionButton.js","components/BookCard.js","components/SearchField.js","components/Search.js","pages/Home.js","pages/Signup.js","pages/Login.js","components/BookFilter.js","components/CollectionCloud.js","components/BookLibraryListing.js","pages/Library.js","components/BookLineUnderCol.js","components/BookListUnderCol.js","components/CollectionCard.js","pages/MyCollections.js","components/BookProfile.js","pages/BookDetail.js","components/AnonRoute.js","components/PrivateRoute.js","App.js","index.js"],"names":["authService","this","auth","axios","create","baseURL","process","withCredentials","email","password","post","then","data","userId","get","catch","err","console","log","React","createContext","Consumer","Provider","withAuth","WrappedComponent","login","signup","logout","user","refresh","isLoggedIn","props","Component","AuthProvider","state","isLoading","setState","me","value","children","useStyles","makeStyles","list","width","fullList","side","classes","useState","top","left","bottom","right","toggleDrawer","open","event","type","key","Button","onClick","SwipeableDrawer","anchor","onClose","onOpen","className","role","onKeyDown","List","Typography","root","ListItem","button","component","Link","to","ListItemIcon","ListItemText","primary","Divider","fullSearch","query","filter","limit","maxResults","length","response","items","error","getBook","id","a","modifyCollection","collectionId","name","patch","createCollectionWithItems","owner","deleteCollection","delete","defaultCollection","loading","getdefaultList","collections","oneCol","default","onDefaulftList","includes","bookId","addToCollection","e","itemList","getItemList","_id","newItemList","push","forceUpdate","removeFromCollection","i","indexOf","splice","collectionID","size","color","bind","bookid","variant","imageLink","book","volumeInfo","imageLinks","thumbnail","title","releaseInfoFull","authors","map","author","releseInfoCropped","slice","Card","CardActionArea","CardMedia","alt","height","image","CardContent","gutterBottom","CardActions","showDefault","theme","margin","spacing","SearchField","Grid","item","xs","Box","p","TextField","label","fullWidth","noValidate","autoComplete","onChange","handleChange","InputProps","startAdornment","InputAdornment","position","RadioGroup","row","container","direction","justify","alignItems","FormControlLabel","control","Radio","checked","searchFilter","handleSearchSettings","labelPlacement","results","visibleResults","expandedSearch","toggleExpandedSearch","formHandleChange","preventDefault","target","taget","my","sm","md","lg","mt","Home","paragraph","handleFormSubmit","onSubmit","required","autoFocus","BookFilter","filterList","placeholder","newCollection","addToNewColl","Paper","cs","collection","mr","books","loadedbooks","loadedBooks","allBookIds","loadedBooksDisplay","nrOfAllBooks","nrOfBooksLoaded","nrOfBooksPerLoad","consolidateBookIds","idArray","forEach","uniqueIds","Set","loadBooks","ids","bookPromises","Promise","all","loadedBooksCopy","toLowerCase","consolidateId","result","resultFromAPI","BookLineUnderCol","markedForRemoval","buttonText","ListItemLink","toggleRemove","removalMarker","doMarkForRemove","undoMarkForRemove","href","primaryTypographyProps","secondary","ListItemSecondaryAction","IconButton","edge","aria-label","itemsToRemove","booklist","edited","itemsResolved","updatedItemsToRemove","sthToSaveUpdater","toggleBookList","saveChanges","collid","collName","bookArray","newName","editmode","expanded","nameEditField","saveName","setExpanded","panelId","ExpansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","vairant","ml","ExpansionPanelDetails","flexGrow","paper","padding","textAlign","palette","text","BookProfile","rating","url","subtitle","publisher","publishedDate","description","averageRating","ratingsCount","small","src","replace","align","dangerouslySetInnerHTML","__html","match","params","rest","render","App","Fragment","CssBaseline","Container","maxWidth","exact","path","Signup","Login","MyCollections","Library","BookDetail","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.1afb78e0.chunk.js","sourcesContent":["import axios from \"axios\";\n\nclass Auth {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      withCredentials: true\n    });\n  }\n\n  signup({ email, password }) {\n    return this.auth\n      .post(\"/auth/signup\", { email, password })\n      .then(({ data }) => data);\n    // .then((response) => response.data);\n  }\n\n  refresh(userId) {\n    return this.auth\n      .get(`/auth/refresh/${userId}`) ///\n      .then(({ data }) => data)\n      .catch((err) => console.log(err))\n  }\n\n\n  login({ email, password }) {\n    return this.auth\n      .post(\"/auth/login\", { email, password })\n      .then(({ data }) => data);\n    // .then((response) => response.data);\n  }\n\n  logout() {\n    return this.auth.post(\"/auth/logout\", {}).then(({ data }) => data);\n    // return this.auth.post(\"/auth/logout\", {}).then((response) => response.data);\n  }\n\n  me() {\n    return this.auth.get(\"/auth/me\").then(({ data }) => data);\n    // return this.auth.get(\"/auth/me\").then((response) => response.data);\n  }\n}\n\nconst authService = new Auth();\n// `authService` is the object with the above axios request methods\n\nexport default authService;\n","//\tlib/Auth.js\n\nimport React, { Component } from \"react\";\nimport authService from \"./auth-service\"; // IMPORT functions for axios requests to API\nconst { Consumer, Provider } = React.createContext();\n\n//HOC to create a Consumer\nconst withAuth = WrappedComponent => {\n  return class extends Component {\n    render() {\n      return (\n        <Consumer>\n          {({ login, signup, logout, user, refresh, isLoggedIn }) => {\n            return (\n              <WrappedComponent\n                user={user}\n                isLoggedIn={isLoggedIn}\n                refresh={refresh}\n                login={login}\n                signup={signup}\n                logout={logout}\n                {...this.props}\n              />\n            );\n          }}\n        </Consumer>\n      );\n    }\n  };\n};\n\n\n// // HOC - function component example of the same functionality\n// function withAuthFunc(WrappedComponent) {\n//   return function(props) {\n//     // props will belong to the WrappedComponent\n//     return (\n//       <Consumer>\n//         {value => <WrappedComponent {...value} {...props} />}\n//       </Consumer>\n//     );\n//   };\n// }\n\n\n// Provider\nclass AuthProvider extends React.Component {\n  state = {\n    isLoggedIn: false,\n    user: null,\n    isLoading: true\n  };\n\n  componentDidMount() {\n    authService\n      .me() //gives back a promise\n      .then(user =>\n        this.setState({ isLoggedIn: true, user: user, isLoading: false })\n      )\n      .catch(err =>\n        this.setState({ isLoggedIn: false, user: null, isLoading: false })\n      );\n  }\n\n  refresh = (userId) => {\n    authService\n    .refresh(userId)\n    .then(user => {\n      this.setState({user})\n      return user //\n    } )\n    .catch(err => console.log(err))\n  };\n\n  signup = (email, password) => {\n    authService\n      .signup({ email, password })\n      .then(user => this.setState({ isLoggedIn: true, user }))\n      .catch(err => console.log(err));\n  };\n\n  login = (email, password) => {\n    authService\n      .login({ email, password })\n      .then(user => this.setState({ isLoggedIn: true, user }))\n      .catch(err => console.log(err));\n  };\n\n  logout = () => {\n    authService\n      .logout()\n      .then(() => this.setState({ isLoggedIn: false, user: null }))\n      .catch(err => console.log(err));\n  };\n\n  render() {\n    const { isLoading, isLoggedIn, user } = this.state;\n    const { login, logout, signup, refresh } = this;\n\n    return (\n      <Provider value={{ isLoading, isLoggedIn, user, login, logout, signup, refresh }}>\n\n        {isLoading ? \"is loading\" : this.props.children}\n      </Provider>\n    );\n    /*\n      <Provider> `value={}` data will be available to all <Consumer> components \n    */\n  }\n}\n\nexport { withAuth, AuthProvider };\n//      Consumer ,  Provider\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"./../lib/Auth\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport SwipeableDrawer from \"@material-ui/core/SwipeableDrawer\";\nimport Button from \"@material-ui/core/Button\";\nimport List from \"@material-ui/core/List\";\nimport Divider from \"@material-ui/core/Divider\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport InboxIcon from \"@material-ui/icons/MoveToInbox\";\n\nconst useStyles = makeStyles({\n  list: {\n    width: 250\n  },\n  fullList: {\n    width: \"auto\"\n  }\n});\n\nfunction Navbar(props) {\n  const classes = useStyles();\n  const [state, setState] = React.useState({\n    top: false,\n    left: false,\n    bottom: false,\n    right: false\n  });\n\n  const toggleDrawer = (side, open) => event => {\n    if (\n      event &&\n      event.type === \"keydown\" &&\n      (event.key === \"Tab\" || event.key === \"Shift\")\n    ) {\n      return;\n    }\n\n    setState({ ...state, [side]: open });\n  };\n\n  const sideList = side => (\n    <div\n      className={classes.list}\n      role=\"presentation\"\n      onClick={toggleDrawer(side, false)}\n      onKeyDown={toggleDrawer(side, false)}\n    >\n      {props.isLoggedIn ? (\n        <List>\n          <Typography className={classes.root}>\n            <ListItem button key={\"Search\"} component={Link} to=\"/\">\n              <ListItemIcon>\n                <InboxIcon />\n              </ListItemIcon>\n              <ListItemText primary={\"Search (Home)\"} />\n            </ListItem>\n\n            <ListItem\n              button\n              key={\"My Collections\"}\n              component={Link}\n              to=\"/collections\"\n            >\n              <ListItemIcon>\n                <InboxIcon />\n              </ListItemIcon>\n              <ListItemText primary={\"My Collections\"} />\n            </ListItem>\n\n            <ListItem button key={\"My Library\"} component={Link} to=\"/library\">\n              <ListItemIcon>\n                <InboxIcon />\n              </ListItemIcon>\n              <ListItemText primary={\"My Library\"} />\n            </ListItem>\n\n            <Divider />\n\n            <ListItem button key={\"Logout\"} onClick={props.logout}>\n              <ListItemIcon>\n                <InboxIcon />\n              </ListItemIcon>\n              <ListItemText primary={\"Logout\"} />\n            </ListItem>\n          </Typography>\n        </List>\n      ) : (\n        <List>\n          <ListItem button key={\"Search\"} component={Link} to=\"/\">\n            <ListItemIcon>\n              <InboxIcon />\n            </ListItemIcon>\n            <ListItemText primary={\"Search (Home)\"} />\n          </ListItem>\n          <Divider />\n\n          <ListItem button key={\"Login\"} component={Link} to=\"/login\">\n            <ListItemIcon>\n              <InboxIcon />\n            </ListItemIcon>\n            <ListItemText primary={\"Login\"} />\n          </ListItem>\n\n          <ListItem button key={\"Sign Up\"} component={Link} to=\"/signup\">\n            <ListItemIcon>\n              <InboxIcon />\n            </ListItemIcon>\n            <ListItemText primary={\"Sign Up\"} />\n          </ListItem>\n        </List>\n      )}\n    </div>\n  );\n\n  return (\n    <div>\n      <Button onClick={toggleDrawer(\"right\", true)}>Menue</Button>\n      <SwipeableDrawer\n        anchor=\"right\"\n        open={state.right}\n        onClose={toggleDrawer(\"right\", false)}\n        onOpen={toggleDrawer(\"right\", true)}\n      >\n        {sideList(\"right\")}\n      </SwipeableDrawer>\n    </div>\n  );\n}\n\nexport default withAuth(Navbar);\n","import axios from \"axios\";\n\nfunction fullSearch(query, filter, limit) {\n  if (!filter) filter = \"\";\n  let maxResults = limit || limit < 40 ? limit : 10;\n  if (query.length > 2) {\n    return axios\n      .get(\n        `${process.env.REACT_APP_GOOGLE_API_BASEURL}?q=${filter}${query}&key=${process.env.REACT_APP_GOOGLE_API_KEY}&maxResults=${maxResults}`\n      )\n      .then(response => response.data.items)\n      .catch(error => {\n        console.log(error);\n      });\n  } else return [];\n}\n\nasync function getBook(id) {\n  try {\n    return await axios\n      .get(\n        `${process.env.REACT_APP_GOOGLE_API_BASEURL}/${id}?&key=${process.env.REACT_APP_GOOGLE_API_KEY}`\n      )\n      .then(response => response.data)\n      .catch(error => {\n        console.log(error);\n      });\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction getImage(url) {\n  let orig = url;\n  let newUrl = orig.replace(\"http:\", \"https:\")\n  return newUrl\n  \n  // axios\n  //   .get(newUrl)\n  //   .then(response => console.log(response))\n  //   .catch(error => {\n  //     console.log(error);\n  //   });\n}\n\nexport { fullSearch, getBook, getImage };\n","import axios from \"axios\";\n\nasync function modifyCollection(collectionId, items, name) {\n  try {\n    return await axios\n      .patch(\n        `${process.env.REACT_APP_API_URL}/collections/id/${collectionId}`,\n        { items, name }\n      )\n      .then(({ data }) =>\n        console.log(\"this is the response from modify Collection \", data)\n      )\n      .catch(error => {\n        console.log(error);\n      });\n  } catch (error) {\n    console.log(\"Error in modifyCollection: \", error);\n  }\n}\n\nasync function createCollectionWithItems(owner, items, name) {\n  try {\n    return await axios\n      .post(`${process.env.REACT_APP_API_URL}/collections`, {\n        owner,\n        items,\n        name\n      })\n      .then(({ data }) => console.log(\"this is the response data \", data))\n      .catch(error => {\n        console.log(error);\n      });\n  } catch (error) {\n    console.log(\"Error in createCollectionWithItems: \", error);\n  }\n}\n\nasync function deleteCollection(collectionId) {\n  try {\n    return await axios\n    .delete(`${process.env.REACT_APP_API_URL}/id/${collectionId}`)\n    .then(({ data }) =>\n        console.log(\"this is the response from delete Collection \", data)\n      )\n      .catch(error => {\n        console.log(error);\n      });\n  } catch (error) {\n    console.log(\"Error in deleteCollection: \", error);\n  }\n  \n}\n\nexport { modifyCollection, createCollectionWithItems, deleteCollection};\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../lib/Auth\";\nimport { modifyCollection } from \"./../lib/collections-services\";\nimport Button from \"@material-ui/core/Button\";\nimport { Typography } from \"@material-ui/core\";\n\n/* \n    This Component needs\n    - List of the useres Collections (from propos. user)\n    - book id \"props.bookId\"\n    - \"modifyCollection\" Helper Function\n    This Components does\n    - find out what the current default collection is\n    - determine, if book is in this list or not\n    - allow to add/remoef it from default list\n \n*/\n\nclass DefaultCollectionButton extends Component {\n  state = {\n    defaultCollection: null,\n    loading: true\n  };\n\n  componentDidMount() {\n    let defaultCollection = this.getdefaultList();\n    this.setState({ defaultCollection: defaultCollection }, () =>\n      this.setState({ loading: false })\n    );\n  }\n\n  getdefaultList = () => {\n    const result = this.props.user.collections.filter(oneCol => {\n      return oneCol.default === true;\n    })[0];\n    return result; // Important: Just one default collection\n  };\n\n  onDefaulftList = () => {\n    let defaultItems = this.state.defaultCollection.items;\n    return defaultItems.includes(this.props.bookId);\n  };\n\n  addToCollection = e => {\n    let itemList = this.getItemList(this.state.defaultCollection._id);\n    let newItemList = [];\n    newItemList.push(this.props.bookId, ...itemList);\n    modifyCollection(\n      this.state.defaultCollection._id,\n      newItemList,\n      this.state.defaultCollection.name\n    ); // collectionId, items, name\n    this.props.refresh(this.props.user._id);\n    this.forceUpdate();\n  };\n\n  removeFromCollection = e => {\n    let itemList = this.getItemList(this.state.defaultCollection._id);\n    const i = itemList.indexOf(this.props.bookId);\n    if (i > -1) itemList.splice(i, 1);\n    modifyCollection(\n      this.state.defaultCollection._id,\n      itemList,\n      this.state.defaultCollection.name\n    ); // collectionId, items, name\n    this.props.refresh(this.props.user._id);\n    this.forceUpdate();\n  };\n\n  getItemList = collectionID => {\n    return this.props.user.collections.filter(oneCol => {\n      return oneCol._id === collectionID;\n    })[0].items;\n  };\n\n  render() {\n    const { _id, name, items } = this.getdefaultList();\n    return (\n      <>\n      \n        {items.includes(this.props.bookId) ? (\n          <Button\n            size=\"small\"\n            color=\"primary\"\n            key={_id}\n            onClick={this.removeFromCollection.bind(_id)}\n            id={_id}\n            bookid={this.props.bookId}\n            name={name}\n            variant=\"contained\"\n          >\n            #{name}\n          </Button>\n        ) : (\n          <Button\n            key={_id}\n            onClick={this.addToCollection.bind(_id)}\n            id={_id}\n            bookid={this.props.bookId}\n            name={name}\n            variant=\"outlined\"\n            size=\"small\"\n            color=\"primary\"\n          >\n            #{name}\n          </Button>\n        )}\n      </>\n    );\n  }\n}\n\nexport default withAuth(DefaultCollectionButton);\n","import { withAuth } from \"./../lib/Auth\";\n\nimport React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Link } from \"react-router-dom\";\nimport DefaultCollectionButton from \"./DefaultCollectionButton\";\n\nconst useStyles = makeStyles({\n  root: {\n    \n  }\n});\n\nfunction BookCard(props) {\n  const classes = useStyles();\n\n  const imageLink = !props.book.volumeInfo.imageLinks\n    ? \"images/Image-Coming-Soon.png\"\n    : props.book.volumeInfo.imageLinks.thumbnail;\n  const title = !props.book.volumeInfo.title\n    ? \"Without title\"\n    : props.book.volumeInfo.title;\n  const releaseInfoFull = !props.book.volumeInfo.authors\n    ? \"Unknown Authors\"\n    : props.book.volumeInfo.authors.map(author => \" \" + author);\n  const releseInfoCropped =\n    releaseInfoFull.length > 40\n      ? releaseInfoFull.slice(40, releaseInfoFull.length) + \"...\"\n      : releaseInfoFull;\n\n  return (\n    <Card className={classes.root} key={props.book.id}>\n      <CardActionArea component={Link} to={`/book/${props.book.id}`}>\n        <CardMedia\n          component=\"img\"\n          alt={title}\n          height=\"250\"\n          image={imageLink}\n          title={title}\n        />\n        <CardContent>\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\n            {title}\n          </Typography>\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n            {releseInfoCropped}\n          </Typography>\n        </CardContent>\n      </CardActionArea>\n      <CardActions>\n        {props.user && props.showDefault ? (\n          <DefaultCollectionButton bookId={props.book.id} />\n        ) : (\n          <Button size=\"small\" color=\"secondary\" component={Link} to=\"/login\">\n            log in to continue\n          </Button>\n        )}\n      </CardActions>\n    </Card>\n  );\n}\n\nexport default withAuth(BookCard);\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport Box from \"@material-ui/core/Box\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    \"& > *\": {\n      margin: theme.spacing(2)\n    }\n  }\n}));\n\nexport default function SearchField(props) {\n  const classes = useStyles();\n\n  return (\n    <>\n      <Grid item xs={12} className={classes.root}>\n        <Box p=\"0\">\n          <TextField\n            className={classes.margin}\n            label=\"Search for books here\"\n            variant=\"outlined\"\n            fullWidth\n            noValidate\n            autoComplete=\"off\"\n            name=\"query\"\n            value={props.query}\n            onChange={props.handleChange}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon />\n                </InputAdornment>\n              )\n            }}\n          />\n        </Box>\n      </Grid>\n\n      <Grid item xs={12} gutterBottom>\n        <Typography gutterBottom variant=\"caption\">\n          <RadioGroup name=\"searchFilter\" row>\n            <Grid\n              container\n              spacing={0}\n              direction=\"row\"\n              justify=\"space-around\"\n              alignItems=\"flex-start\"\n            >\n              <FormControlLabel\n                value=\"\"\n                control={<Radio color=\"primary\" />}\n                label=\"All\"\n                name=\"searchFilter\"\n                checked={props.searchFilter === \"\"}\n                onChange={props.handleSearchSettings}\n                labelPlacement=\"bottom\"\n              />\n              <FormControlLabel\n                value=\"intitle:\"\n                control={<Radio color=\"primary\" />}\n                label=\"Title\"\n                name=\"searchFilter\"\n                checked={props.searchFilter === \"intitle:\"}\n                onChange={props.handleSearchSettings}\n                labelPlacement=\"bottom\"\n              />\n              <FormControlLabel\n                value=\"inauthor:\"\n                control={<Radio color=\"primary\" />}\n                label=\"Author\"\n                name=\"searchFilter\"\n                checked={props.searchFilter === \"inauthor:\"}\n                onChange={props.handleSearchSettings}\n                labelPlacement=\"bottom\"\n              />\n              <FormControlLabel\n                value=\"inpublisher:\"\n                control={<Radio color=\"primary\" />}\n                label=\"Publisher\"\n                name=\"searchFilter\"\n                checked={props.searchFilter === \"inpublisher:\"}\n                onChange={props.handleSearchSettings}\n                labelPlacement=\"bottom\"\n              />\n              {/* <FormControlLabel\n            value=\"isbn:\"\n            control={<Radio color=\"primary\" />}\n            label=\"ISBN\"\n            name=\"searchFilter\"\n            checked={props.searchFilter === \"isbn:\"}\n            onChange={props.handleSearchSettings}\n            labelPlacement=\"bottom\"\n          /> */}\n            </Grid>\n          </RadioGroup>\n        </Typography>\n      </Grid>\n    </>\n  );\n}\n","import React, { Component } from \"react\";\nimport { fullSearch } from \"./../lib/bookAPI-helper\";\nimport BookCard from \"./BookCard\";\nimport { withAuth } from \"./../lib/Auth\";\nimport SearchField from \"./SearchField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport { Link } from \"react-router-dom\";\nimport Box from '@material-ui/core/Box'\n\nclass Search extends Component {\n  state = {\n    searchFilter: \"\",\n    query: \"\",\n    results: [],\n    visibleResults: [],\n    expandedSearch: false\n  };\n  componentDidMount() {\n    if (this.props.user) this.props.refresh(this.props.user._id);\n  }\n\n  toggleExpandedSearch = () => {\n    this.setState({ expandedSearch: !this.state.expandedSearch });\n    !this.state.expandedSearch\n      ? this.setState({ visibleResults: this.state.results })\n      : this.setState({ visibleResults: this.state.results.slice(0, 4) });\n  };\n\n  formHandleChange = async e => {\n    e.preventDefault();\n    let { value, name } = e.target;\n    this.setState({ [name]: value });\n    try {\n      let results = await fullSearch(value, this.state.searchFilter, 40);\n      this.state.expandedSearch\n        ? this.setState({ visibleResults: results })\n        : this.setState({ visibleResults: results.slice(0, 4) });\n      this.setState({ results: results });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  handleSearchSettings = e => {\n    console.log(e.taget);\n    this.setState({ searchFilter: e.target.value });\n  };\n  //xs, sm, md, lg, and xl\n  render() {\n    return (\n      <>\n        <Grid\n          container\n          spacing={0}\n          direction=\"row\"\n          justify=\"center\"\n          alignItems=\"flex-start\"\n        >\n          <SearchField\n            handleChange={this.formHandleChange}\n            query={this.state.query}\n            searchFilter={this.state.searchFilter}\n            handleSearchSettings={this.handleSearchSettings}\n          />\n        </Grid>\n\n        <Box my=\"15px\">\n        <Grid\n\n          container\n          spacing={2}\n          direction=\"row\"\n          justify=\"flex-start\"\n          alignItems=\"flex-start\"\n        >\n          {this.state.visibleResults.map(book => {\n            return (\n              <Grid item xs={6} sm={4} md={3} lg={2} key={book.id}>\n                <BookCard book={book} showDefault={true} />\n              </Grid>\n            );\n          })}\n        </Grid>\n        </Box>\n\n        <Box my=\"15px\">\n        <Grid\n          container\n          direction=\"column\"\n          justify=\"center\"\n          alignItems=\"center\"\n          spacing={2}\n        >\n          {this.state.results.length > 3 ? (\n            !this.state.expandedSearch ? (\n              <Button\n                mt={4}\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={this.toggleExpandedSearch}\n              >\n                Show more results\n              </Button>\n            ) : (\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={this.toggleExpandedSearch}\n              >\n                Show less results\n              </Button>\n            )\n          ) : null}\n\n          {!this.state.expandedSearch ? (\n            this.props.user ? (\n              <>\n                <Grid item xs={12}>\n                  <Button variant=\"contained\" color=\"secondary\" component={Link} to=\"/collections\">\n                    Go to collections\n                  </Button>\n                </Grid>\n                <Grid item xs={12}>\n                  <Button variant=\"contained\" color=\"secondary\" component={Link} to=\"/library\">\n                    Go to library\n                  </Button>\n                </Grid>\n              </>\n            ) : (\n              <>\n                <Grid item xs={12}>\n                  <Button variant=\"contained\" color=\"secondary\" component={Link} to=\"/login\">\n                    Login\n                  </Button>\n                </Grid>\n                <Grid item xs={12}>\n                  <Button variant=\"contained\" color=\"secondary\" component={Link} to=\"/signup\">\n                    Signup\n                  </Button>\n                </Grid>\n              </>\n            )\n          ) : null}\n        </Grid>\n        </Box>\n      </>\n    );\n  }\n}\n\nexport default withAuth(Search);","import React from 'react'\nimport Search from \"./../components/Search\"\nimport Typography from \"@material-ui/core/Typography\";\n\nfunction Home() {\n  return (\n    <> \n    <Typography paragraph variant=\"h3\">\n    Books I Own\n    </Typography>\n    <Typography paragraph variant=\"subtitle1\">\n    Manage your books <strong>as easy as never before</strong>.\n    </Typography>\n    <Search />\n    </>\n  )\n}\n\nexport default Home;","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"./../lib/Auth\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\n\nclass Signup extends Component {\n  state = { email: \"\", password: \"\" };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { email, password } = this.state;\n\n    this.props.signup(email, password);\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { email, password } = this.state;\n    return (\n      <div>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign up\n        </Typography>\n        <form noValidate onSubmit={this.handleFormSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"email\"\n            autoFocus\n            type=\"text\"\n            value={email}\n            onChange={this.handleChange}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n            value={password}\n            onChange={this.handleChange}\n          />\n\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            value=\"Signup\"\n          >\n            Sign Up\n          </Button>\n          <Grid container>\n            <Grid item>\n              <p>Already have account?</p>\n              <Link to={\"/login\"}> Login</Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Signup);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"./../lib/Auth\";\nimport { Link } from \"react-router-dom\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\n\nclass Login extends Component {\n  state = { email: \"\", password: \"\" };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { email, password } = this.state;\n\n    this.props.login(email, password);\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { email, password } = this.state;\n\n    return (\n      <div>\n        <Typography component=\"h1\" variant=\"h5\">\n          Welcome back! Log in here\n        </Typography>\n        <form noValidate onSubmit={this.handleFormSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"email\"\n            autoFocus\n            type=\"text\"\n            value={email}\n            onChange={this.handleChange}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n            value={password}\n            onChange={this.handleChange}\n          />\n\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            value=\"Signup\"\n          >\n            Login\n          </Button>\n          <Grid container>\n            <Grid item>\n              <p>Don't have an account?</p>\n              <Link to={\"/signup\"}> Sign up</Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Login);\n","import React, { Component } from 'react'\n\nexport default class BookFilter extends Component {\n    state = {\n        query: \"\"\n    }\n\n    handleChange = e => {\n        e.preventDefault();\n        let { value, name  } = e.target;\n        this.props.filterList(value);\n        this.setState({ [name]: value });\n    };\n\n    render() {\n        return (\n            <div>\n                <form>\n                <input\n                    type=\"text\"\n                    name=\"query\"\n                    value={this.state.query}\n                    onChange={this.handleChange}\n                    placeholder=\"Filter by title\"\n                />\n                </form>\n            </div>\n        )\n    }\n}\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../lib/Auth\";\nimport {\n  createCollectionWithItems,\n  modifyCollection\n} from \"./../lib/collections-services\";\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from '@material-ui/core/Box'\n\n/* NOTES \n    This modulre requires following Data\n    - collections from the user (Props)\n    - A Book ID\n    - Needs a minimal state (just for the form)\n    Functions\n    1) removeFromCollection\n    2) addToCollection\n    3) addToNewColl\n*/\n\nclass CollectionCloud extends Component {\n  state = {\n    newCollection: \"\"\n  };\n\n  addToCollection = (id, name) => {\n    let itemList = this.getItemList(id);\n    let newItemList = [];\n    newItemList.push(this.props.bookId, ...itemList);\n    modifyCollection(id, newItemList, name); // collectionId, items, name\n    this.props.refresh(this.props.user._id);\n    this.forceUpdate();\n  };\n\n  removeFromCollection = (id, name) => {\n    let itemList = this.getItemList(id);\n    const i = itemList.indexOf(this.props.bookId);\n    if (i > -1) itemList.splice(i, 1);\n    modifyCollection(id, itemList, name); // collectionId, items, name\n    this.props.refresh(this.props.user._id);\n    this.forceUpdate();\n  };\n\n  getItemList = collectionID => {\n    return this.props.user.collections.filter(oneCol => {\n      return oneCol._id === collectionID;\n    })[0].items;\n  };\n\n  formHandleChange = async e => {\n    e.preventDefault();\n    let { value, name } = e.target;\n    if (value[value.length - 1] === \" \") {\n      value = value.slice(0, -1);\n    }\n    //value = value.slice(1, value.length)\n    this.setState({ [name]: value });\n  };\n\n  addToNewColl = (e) => {\n    e.preventDefault();\n    createCollectionWithItems(\n      this.props.user._id,\n      [this.props.bookId],\n      this.state.newCollection\n    ); //owner, items, name\n    this.setState({ newCollection: \"\" }, () =>\n      this.props.refresh(this.props.user._id)\n    );\n  };\n\n  render() {\n    return (\n      <Grid container spacing={3}>\n        <Grid item xs={12}>\n          <Paper>\n          <Box p=\"20px\">\n            <Grid item cs={12}>\n              <Typography variant=\"caption\">\n                Click to add or remove from your collections:\n              </Typography>\n            </Grid>\n            <Grid item cs={12}>\n              <Grid\n                container\n                direction=\"row\"\n                justify=\"flex-start\"\n                alignItems=\"flex-start\"\n              >\n                {this.props.user.collections.map(collection => {\n                  if (collection.items.includes(this.props.bookId)) {\n                    return (\n                      <Box mr=\"15px\" my=\"5px\">\n                      <Button\n                        size=\"small\"\n                        color=\"primary\"\n                        key={collection._id}\n                        onClick={() =>\n                          this.removeFromCollection(\n                            collection._id,\n                            collection.name\n                          )\n                        }\n                        id={collection._id}\n                        bookid={this.props.bookId}\n                        name={collection.name}\n                        variant=\"contained\"\n                      >\n                        #{collection.name}\n                      </Button>\n                      </Box>\n                    );\n                  } else {\n                    return (\n                      <Box mr=\"15px\" my=\"5px\">\n                      <Button\n                        key={collection._id}\n                        onClick={() =>\n                          this.addToCollection(collection._id, collection.name)\n                        }\n                        id={collection._id}\n                        bookid={this.props.bookId}\n                        name={collection.name}\n                        variant=\"outlined\"\n                        size=\"small\"\n                        color=\"primary\"\n                      >\n                        #{collection.name}\n                      </Button>\n                      </Box>\n                    );\n                  }\n                })}\n                <Box mr=\"15px\" my=\"5px\">\n                <Button variant=\"outlined\"\n                        size=\"small\"\n                        color=\"primary\"\n                        >\n                <form>\n                  #\n                  <input\n                    type=\"text\"\n                    name=\"newCollection\"\n                    className=\"hiddenAddField\"\n                    placeholder=\"newCollection\"\n                    onChange={this.formHandleChange}\n                    value={\"\" + this.state.newCollection}\n                  />\n                  <button\n                    type=\"submit\"\n                    bookid={this.props.bookId}\n                    onClick={this.addToNewColl}\n                  >\n                    <Typography>\n                    ADD\n                    </Typography>\n                  </button>\n                  \n                </form>\n                </Button>\n                </Box>\n              </Grid>\n            </Grid>\n            </Box>\n          </Paper>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nexport default withAuth(CollectionCloud);\n","import React, { Component } from \"react\";\nimport BookCard from \"./BookCard\";\nimport { withAuth } from \"./../lib/Auth\";\n\nimport CollectionCloud from \"./CollectionCloud\";\n\nclass BookLibraryListing extends Component {\n  state = {\n    books: null,\n    loading: true\n  }\n  \n  componentDidMount() {\n    this.setState({books: this.props.loadedbooks}, () => this.setState({loading: true}))\n  }\n  render() {\n    return (\n      <div>\n        {this.props.loadedBooks.map(book => {\n          return (\n            <div key={book.id}>\n              <BookCard book={book} />\n              <CollectionCloud bookId={book.id} />\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(BookLibraryListing);\n\n\n","import React, { Component } from \"react\";\nimport { withAuth } from \"./../lib/Auth\";\nimport BookFilter from \"./../components/BookFilter\";\nimport BookLibraryListing from \"./../components/BookLibraryListing\";\nimport { getBook } from \"./../lib/bookAPI-helper\";\n\nclass Library extends Component {\n  state = {\n    allBookIds: [],\n    loadedBooks: [],\n    loadedBooksDisplay: [],\n    loading: true,\n    nrOfAllBooks: 0,\n    nrOfBooksLoaded: 0,\n    nrOfBooksPerLoad: 10\n  };\n\n  componentDidMount() {\n    let consolidateId = [];\n    const result = this.consolidateBookIds();\n\n    consolidateId = result;\n    this.setState({ allBookIds: consolidateId }, () => {\n      this.loadBooks(consolidateId).then(resultFromAPI => {\n        this.setState(\n          { loadedBooks: resultFromAPI, loadedBooksDisplay: resultFromAPI },\n          () => this.setState({ loading: false })\n        );\n      });\n    });\n  }\n\n  consolidateBookIds = () => {\n    let idArray = [];\n    this.props.user.collections.forEach(collection => {\n      collection.items.map(item => idArray.push(item));\n    });\n    const uniqueIds = new Set(idArray);\n    let allBookIds = [...uniqueIds];\n    return allBookIds;\n  };\n\n  loadBooks = ids => {\n    const bookPromises = ids.map(id => {\n      return getBook(id);\n    });\n    return Promise.all(bookPromises);\n  };\n\n  filterList = query => {\n    let loadedBooksCopy = [...this.state.loadedBooks];\n    loadedBooksCopy = loadedBooksCopy.filter(book =>\n      book.volumeInfo.title.toLowerCase().includes(query.toLowerCase())\n    );\n    this.setState({ loadedBooksDisplay: loadedBooksCopy });\n  };\n\n  render() {\n    return (\n      <>\n        <h1>My Library</h1>\n        <h2>See all your books, {this.props.user.email}</h2>\n        {this.state.loading ? (\n          \"Books are getting loaded\"\n        ) : (\n          <>\n            <BookFilter filterList={this.filterList} />\n            <BookLibraryListing loadedBooks={this.state.loadedBooksDisplay} />\n          </>\n        )}\n      </>\n    );\n  }\n}\n\nexport default withAuth(Library);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport RestoreFromTrashIcon from '@material-ui/icons/RestoreFromTrash';\nimport IconButton from \"@material-ui/core/IconButton\";\n\n\nexport default class BookLineUnderCol extends Component {\n  state = {\n    markedForRemoval: false,\n    buttonText: \"Remove\"\n  };\n\n  ListItemLink = (props) => {\n    return <ListItem button component=\"a\" {...props} />;\n  }\n\n  componentDidMount() {}\n\n  toggleRemove = e => {\n    e.preventDefault();\n    let removalMarker = !this.state.markedForRemoval;\n    let buttonText = this.state.buttonText === \"Remove\" ? \"Keep\" : \"Remove\";\n    this.setState({ markedForRemoval: removalMarker, buttonText: buttonText });\n    removalMarker\n      ? this.props.doMarkForRemove(this.props.book.id)\n      : this.props.undoMarkForRemove(this.props.book.id);\n  };\n\n  render() {\n    return (\n      <ListItem key={this.props.book.id}>\n        <this.ListItemLink href={`/book/${this.props.book.id}`}>\n          <ListItemText\n            primaryTypographyProps = {{\"color\" : !this.state.markedForRemoval ? \"textPrimary\": \"textSecondary\" }}\n            primary={this.props.book.volumeInfo.title ? this.props.book.volumeInfo.title : null}\n            secondary={\n              this.props.book.volumeInfo.authors ? this.props.book.volumeInfo.authors.map(a => a) : null\n            }\n          />\n        </this.ListItemLink>\n        <ListItemSecondaryAction>\n          <IconButton\n            edge=\"end\"\n            aria-label=\"delete\"\n            onClick={this.toggleRemove}\n          >\n            {this.state.markedForRemoval ? <RestoreFromTrashIcon />: <DeleteIcon />}\n          </IconButton>\n        </ListItemSecondaryAction>\n      </ListItem>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport BookLineUnderCol from \"./BookLineUnderCol\";\nimport { modifyCollection } from \"./../lib/collections-services\";\nimport { getBook } from \"./../lib/bookAPI-helper\";\nimport { withAuth } from \"./../lib/Auth\";\n\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Divider from \"@material-ui/core/Divider\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\nclass BookListUnderCol extends Component {\n  state = {\n    itemsToRemove: \"\",\n    booklist: false,\n    edited: false,\n    itemsResolved: [],\n    loading: false\n  };\n  doMarkForRemove = id => {\n    let updatedItemsToRemove = [];\n    updatedItemsToRemove.push(id, ...this.state.itemsToRemove);\n    this.setState({ itemsToRemove: updatedItemsToRemove }, () => {\n      this.sthToSaveUpdater();\n      console.log(this.state.itemsToRemove);\n    });\n  };\n  undoMarkForRemove = id => {\n    let updatedItemsToRemove = this.state.itemsToRemove;\n    const i = updatedItemsToRemove.indexOf(id);\n    if (i > -1) updatedItemsToRemove.splice(i, 1);\n    this.setState({ itemsToRemove: updatedItemsToRemove }, () => {\n      this.sthToSaveUpdater();\n      console.log(this.state.itemsToRemove);\n    });\n  };\n\n  sthToSaveUpdater = () => {\n    if (\n      typeof this.state.itemsToRemove == \"object\" &&\n      this.state.itemsToRemove.length > 0\n    ) {\n      this.setState({ edited: true }, () =>\n        console.log(\"s.th. to update later? \", this.state.edited)\n      );\n    } else\n      this.setState({ edited: false }, () =>\n        console.log(\"s.th. to update later? \", this.state.edited)\n      );\n  };\n\n  toggleBookList = () => {\n    if (!this.state.booklist) {\n      this.loadBooks();\n    }\n    this.setState({ booklist: !this.state.booklist });\n  };\n\n  saveChanges = e => {\n    let newItemList = this.props.items;\n    this.state.itemsToRemove.forEach(item => {\n      const i = newItemList.indexOf(item);\n      if (i > -1) newItemList.splice(i, 1);\n    });\n    modifyCollection(this.props.collid, newItemList, this.props.collName); //// collectionId, items, name\n    this.props.refresh(this.props.user._id);\n    this.setState({ itemsResolved: [] });\n  };\n\n  componentDidMount() {\n    this.toggleBookList();\n  }\n\n  loadBooks = () => {\n    if (this.state.itemsResolved.length === 0) {\n      this.setState({ loading: true });\n      this.props.items.forEach(item => {\n        let bookProm = getBook(item);\n        bookProm.then(result => {\n          let bookArray = [];\n          bookArray.push(result, ...this.state.itemsResolved);\n          this.setState(\n            {\n              itemsResolved: bookArray\n            },\n            () => {\n              if (this.state.itemsResolved.length === this.props.items.length) {\n                this.setState({ loading: false }, () =>\n                  console.log(\"finished loading: \", this.state.itemsResolved)\n                );\n              }\n            }\n          );\n        });\n      });\n    }\n  };\n\n  render() {\n    return (\n      <>\n        {this.state.loading ? (\n          \"Currently loading\"\n        ) : (\n          <>\n            <List>\n              <ListItem>\n                {this.state.edited ? (\n                  <>\n                  <ListItemText primary=\"Click to onfirm deletion\" />\n                  <ListItemSecondaryAction>\n                    <IconButton edge=\"start\" onClick={this.saveChanges}>\n                      <DeleteIcon />\n                    </IconButton>\n                  </ListItemSecondaryAction>\n                  </>\n                ) : (\n                  <ListItemText primary=\"Mark your books for removal\" />\n                )}\n              </ListItem>\n            </List>\n            <Divider />\n            <List>\n              {this.state.itemsResolved.map(book => {\n                return (\n                  <BookLineUnderCol\n                    key={book.id}\n                    book={book}\n                    doMarkForRemove={this.doMarkForRemove}\n                    undoMarkForRemove={this.undoMarkForRemove}\n                  />\n                );\n              })}\n            </List>\n          </>\n        )}\n      </>\n    );\n  }\n}\n\nexport default withAuth(BookListUnderCol);\n","import React, { Component } from \"react\";\nimport { modifyCollection, deleteCollection } from \"./../lib/collections-services\";\nimport BookListUnderCol from \"./BookListUnderCol\";\nimport { withAuth } from \"./../lib/Auth\";\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Box from '@material-ui/core/Box'\nimport Button from \"@material-ui/core/Button\";\n\nclass CollectionCard extends Component {\n  state = {\n    newName: \"\",\n    editmode: false,\n    expanded: \"\",\n    \n  };\n  nameEditField = e => {\n    e.preventDefault();\n    this.setState({ editmode: true, newName: this.props.collection.name }); // anti pattern - ok?\n  };\n\n  formHandleChange = e => {\n    e.preventDefault();\n    let { value, name } = e.target;\n    this.setState({ [name]: value });\n  };\n\n  saveName = async e => {\n    e.preventDefault();\n    if (this.state.newName !== this.props.collection.name) {\n      try {\n        await modifyCollection(\n          this.props.collection._id,\n          this.props.collection.items,\n          this.state.newName\n        );\n      } catch (error) {\n        console.log(\"error while saving\", error);\n      }\n    }\n    this.props.refresh(this.props.user._id);\n    this.setState({ editmode: false, newName: \"\" });\n  };\n\n  setExpanded = panelId => {\n    panelId === this.state.expanded ? this.setState({expanded : \"\"}) : this.setState({expanded : panelId})\n  };\n\n  deleteCollection = () => {\n    deleteCollection(this.props.collection._id)\n    this.props.refresh(this.props.user._id);\n  }\n\n  render() {\n    const { name, items, _id} = this.props.collection;\n    return (\n<ExpansionPanel expanded={this.state.expanded === _id} onChange={() => this.setExpanded(_id)}>\n        <ExpansionPanelSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1bh-content\"\n          id={_id}\n        >\n          <Typography vairant=\"body1\">#{name}</Typography>\n          <Box ml=\"10px\">\n          <Typography variant=\"caption\" color=\"secondary\">{items.length} item(s)</Typography>\n          </Box>\n          \n        </ExpansionPanelSummary>\n        <ExpansionPanelDetails>\n          <Typography>\n              {(this.state.expanded && items.length > 0)\n              ?<BookListUnderCol key={_id} collid={_id} collName={name} items={items} />\n              : (<Box><p>\"No books in that collection.\"</p>\n                <Button variant=\"contained\" color=\"primary\" onClick={this.deleteCollection}> Delete?</Button></Box>)}\n          </Typography>\n        </ExpansionPanelDetails>\n      </ExpansionPanel>      \n    );\n  }\n}\n\nexport default withAuth(CollectionCard);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"./../lib/Auth\";\nimport CollectionCard from \"./../components/CollectionCard\";\n\nclass MyCollections extends Component {\n  componentDidMount() {\n    this.props.refresh(this.props.user._id);\n  }\n  render() {\n    return (\n      <div>\n        <h1>My Collections</h1>\n        <>\n          {this.props.user.collections.map(collection => {\n            return <CollectionCard key={collection._id} collection={collection} />;\n          })}\n        </>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(MyCollections);\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {getImage} from \"./../lib/bookAPI-helper\"\nimport Box from '@material-ui/core/Box'\n\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport StarHalfIcon from '@material-ui/icons/StarHalf';\nimport StarIcon from '@material-ui/icons/Star';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: \"center\",\n    color: theme.palette.text.secondary\n  }\n}));\n\nconst displayRating = rating => {\nif (rating < 0.5) {return <> <StarBorderIcon /> <StarBorderIcon /> <StarBorderIcon /> <StarBorderIcon /> <StarBorderIcon /></>}\nelse if (rating < 1) {return <> <StarHalfIcon /> <StarBorderIcon /> <StarBorderIcon /> <StarBorderIcon /> <StarBorderIcon /></>}\nelse if (rating < 1.5) {return <> <StarIcon /> <StarBorderIcon /> <StarBorderIcon /> <StarBorderIcon /> <StarBorderIcon /></>}\nelse if (rating < 2) {return <> <StarIcon /> <StarHalfIcon /> <StarBorderIcon /> <StarBorderIcon /> <StarBorderIcon /></>}\nelse if (rating < 2.5) {return <> <StarIcon /> <StarIcon /> <StarBorderIcon /> <StarBorderIcon /> <StarBorderIcon /></>}\nelse if (rating < 3) {return <> <StarIcon /> <StarIcon /> <StarHalfIcon /> <StarBorderIcon /> <StarBorderIcon /></>}\nelse if (rating < 3.5) {return <> <StarIcon /> <StarIcon /> <StarIcon /> <StarBorderIcon /> <StarBorderIcon /></>}\nelse if (rating < 4) {return <> <StarIcon /> <StarIcon /> <StarIcon /> <StarHalfIcon /> <StarBorderIcon /></>}\nelse if (rating < 4.5) {return <> <StarIcon /> <StarIcon /> <StarIcon /> <StarIcon /> <StarBorderIcon /></>}\nelse if (rating < 5) {return <> <StarIcon /> <StarIcon /> <StarIcon /> <StarIcon /> <StarHalfIcon /></>}\nelse  {return <> <StarIcon /> <StarIcon /> <StarIcon /> <StarIcon /> <StarIcon /></>}\n}\n\nexport default function BookProfile(props) {\n  const {\n    title,\n    subtitle,\n    authors,\n    publisher,\n    publishedDate,\n    description,\n    imageLinks,\n    averageRating,\n    ratingsCount\n  } = props.book.volumeInfo;\n\n  const classes = useStyles();\n  return (\n      \n        <Grid container spacing={3}>\n          <Grid item xs={12}>\n            <Paper className={classes.paper}>\n              <Grid container spacing={3}>\n                <Grid item xs={12} md={6} id={\"imageContainer\"}>\n                  {!imageLinks.small ? (\n                    <img src=\"images/Image-Coming-Soon.png\" alt=\"\" />\n                  ) : (\n                    <img src={getImage(imageLinks.small)} alt=\"\" />\n                  )}\n                </Grid>\n                <Grid item xs={12} md={6} id={\"textContainer\"}>\n                  <Grid container spacing={3}>\n                    <Grid item xs={12}>\n                    <Typography align=\"left\" gutterBottom>\n                      <h1>{!title ? \"Without title\" : title}</h1>\n                      {!subtitle ? null : <h2>{subtitle}</h2>}\n                      </Typography>\n                    </Grid>\n                    <Grid item xs={12}>\n                    <Typography align=\"left\" gutterBottom>\n                      {!authors\n                        ? \"Unknown Authors\"\n                        : \"From \" + authors.map(author => author + \" \")}\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={6}>\n                    <Box>\n                    {!ratingsCount || ratingsCount < 2\n                    ? \"not rated\"\n                    : (\"Rating: \" + averageRating + \" (From \" + ratingsCount +\" votes.\") }\n                    </Box>\n                    <Box>\n                    {!ratingsCount || ratingsCount < 2\n                    ? <> <StarBorderIcon /> <StarBorderIcon /> <StarBorderIcon /> <StarBorderIcon /> <StarBorderIcon /></>\n                    : <> {displayRating(averageRating)} </>}\n                    </Box>\n                      \n                    </Grid>\n                    <Grid item xs={6}>\n                      {!publisher\n                        ? null\n                        : \"Published \" +\n                          (!publishedDate ? null : publishedDate) +\n                          \" by \" +\n                          publisher}\n                    </Grid>\n                    <Grid item xs={12}>\n                    <Typography align=\"left\" gutterBottom>\n                      {!description ? (\n                        \"Description currently not available\"\n                      ) : (\n                        <p dangerouslySetInnerHTML={{ __html: description }} />\n                      )}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n        </Grid>\n      \n  );\n}\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../lib/Auth\";\nimport { getBook } from \"../lib/bookAPI-helper\";\nimport CollectionCloud from \"../components/CollectionCloud\";\nimport BookProfile from \"../components/BookProfile\";\n\nclass BookDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      book: {},\n      loading: true,\n    };\n  }\n\n  componentDidMount() {\n    this.props.refresh(this.props.user._id);\n    const { id } = this.props.match.params;\n    let bookProm = getBook(id);\n    bookProm.then(result => {\n      console.log(result)\n      this.setState({ book: result }, () => this.setState({loading: false}))\n    });\n  }\n\n  render() {\n    if (!this.state.loading) {\n      return (\n        <div>\n          <BookProfile book={this.state.book} />\n\n          <CollectionCloud key={this.state.book.id} bookId={this.state.book.id} />\n        </div>\n\n      );\n    } else return \"loading\";\n  }\n}\n\nexport default withAuth(BookDetail);\n","//\tcomponents/AnonRoute.js\n\nimport React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"../lib/Auth\";\n\nfunction AnonRoute({ component: Component, isLoggedIn, ...rest }) {\n  return (\n    // <Route\n    //   {...rest}\n    //   render={props =>\n    //     !isLoggedIn ? <Component {...props} /> : <Redirect to=\"/private\" />\n    //   }\n    // />\n    <Route\n      {...rest}\n      render={function(props) {\n        if (isLoggedIn) return <Redirect to=\"/\" />;\n        else if (!isLoggedIn) return <Component {...props} />;\n      }}\n    />\n  );\n}\n\nexport default withAuth(AnonRoute);\n","//\tcomponents/PrivateRoute.js\n\nimport React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"../lib/Auth\";\n\nfunction PrivateRoute({ component: Component, isLoggedIn, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={function(props) {\n        if (isLoggedIn) return <Component {...props} />;\n        else if (!isLoggedIn) return <Redirect to=\"/login\" />;\n      }}\n    />\n  );\n}\n\nexport default withAuth(PrivateRoute);\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport Navbar from \"./components/Navbar\";\nimport Home from \"./pages/Home\";\nimport Signup from \"./pages/Signup\";\nimport Login from \"./pages/Login\";\nimport Library from \"./pages/Library\";\nimport MyCollections from \"./pages/MyCollections\";\nimport BookDetail from \"./pages/BookDetail\";\n\nimport AnonRoute from \"./components/AnonRoute\";\nimport PrivateRoute from \"./components/PrivateRoute\";\n\nimport \"typeface-roboto\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\nimport Container from \"@material-ui/core/Container\";\n\nimport dotenv from \"dotenv\";\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"container\">\n        <React.Fragment>\n          <CssBaseline />\n          <Container maxWidth=\"md\">\n            <Navbar />\n\n            <Switch>\n              <Route exact path=\"/\" component={Home} />\n\n              <AnonRoute exact path=\"/signup\" component={Signup} />\n              <AnonRoute exact path=\"/login\" component={Login} />\n\n              <PrivateRoute\n                exact\n                path=\"/collections\"\n                component={MyCollections}\n              />\n              \n              <PrivateRoute exact path=\"/library\" component={Library} />\n              <PrivateRoute exact path=\"/book/:id\" component={BookDetail} />\n            </Switch>\n          </Container>\n        </React.Fragment>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { AuthProvider } from \"./lib/Auth\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <Router>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </Router>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}