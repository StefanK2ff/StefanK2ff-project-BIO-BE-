{"version":3,"sources":["lib/auth-service.js","lib/Auth.js","components/Navbar.js","lib/bookAPI-helper.js","components/BookCard.js","lib/collections-services.js","components/DefaultCollectionButton.js","components/Search.js","pages/Home.js","pages/Signup.js","pages/Login.js","components/BookFilter.js","components/CollectionCloud.js","components/BookLibraryListing.js","pages/Library.js","components/BookLineUnderCol.js","components/BookListUnderCol.js","components/CollectionCard.js","pages/MyCollections.js","pages/MyCollectionsDetail.js","components/BookProfile.js","pages/BookDetail.js","components/AnonRoute.js","components/PrivateRoute.js","App.js","index.js"],"names":["authService","this","auth","axios","create","baseURL","process","withCredentials","email","password","post","then","data","userId","get","catch","err","console","log","React","createContext","Consumer","Provider","withAuth","WrappedComponent","login","signup","logout","user","refresh","isLoggedIn","props","Component","AuthProvider","state","isLoading","setState","me","value","children","className","to","id","onClick","fullSearch","query","filter","limit","maxResults","length","response","items","error","getBook","a","key","book","volumeInfo","imageLinks","src","smallThumbnail","alt","title","subtitle","authors","map","author","modifyCollection","collectionId","name","patch","createCollectionWithItems","owner","defaultCollection","loading","getdefaultList","collections","oneCol","default","onDefaulftList","includes","bookId","addToCollection","e","preventDefault","itemList","getItemList","target","newItemList","push","attributes","getNamedItem","_id","forceUpdate","removeFromCollection","i","indexOf","splice","collectionID","bookid","variant","searchFilter","results","visibleResults","expandedSearch","toggleExpandedSearch","slice","formHandleChange","handleSearchSettings","type","onChange","checked","htmlFor","Home","handleFormSubmit","event","handleChange","onSubmit","BookFilter","filterList","placeholder","newCollection","addToNewColl","collection","books","loadedbooks","loadedBooks","allBookIds","loadedBooksDisplay","nrOfAllBooks","nrOfBooksLoaded","nrOfBooksPerLoad","consolidateBookIds","idArray","forEach","item","uniqueIds","Set","loadBooks","ids","bookPromises","Promise","all","loadedBooksCopy","toLowerCase","consolidateId","result","resultFromAPI","BookLineUnderCol","markedForRemoval","buttonText","toggleRemove","removalMarker","doMarkForRemove","undoMarkForRemove","itemsToRemove","booklist","edited","itemsResolved","updatedItemsToRemove","sthToSaveUpdater","toggleBookList","saveAndClose","collid","collName","bookArray","newName","editmode","nameEditField","saveName","username","BookProfile","publisher","publishedDate","description","small","dangerouslySetInnerHTML","__html","match","params","component","rest","render","App","exact","path","Signup","Login","MyCollections","MyCollectionsDetail","Library","BookDetail","rel","href","integrity","crossorigin","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.0f3b0884.chunk.js","sourcesContent":["import axios from \"axios\";\n\nclass Auth {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      withCredentials: true\n    });\n  }\n\n  signup({ email, password }) {\n    return this.auth\n      .post(\"/auth/signup\", { email, password })\n      .then(({ data }) => data);\n    // .then((response) => response.data);\n  }\n\n  refresh(userId) {\n    return this.auth\n      .get(`/auth/refresh/${userId}`) ///\n      .then(({ data }) => data)\n      .catch((err) => console.log(err))\n  }\n\n\n  login({ email, password }) {\n    return this.auth\n      .post(\"/auth/login\", { email, password })\n      .then(({ data }) => data);\n    // .then((response) => response.data);\n  }\n\n  logout() {\n    return this.auth.post(\"/auth/logout\", {}).then(({ data }) => data);\n    // return this.auth.post(\"/auth/logout\", {}).then((response) => response.data);\n  }\n\n  me() {\n    return this.auth.get(\"/auth/me\").then(({ data }) => data);\n    // return this.auth.get(\"/auth/me\").then((response) => response.data);\n  }\n}\n\nconst authService = new Auth();\n// `authService` is the object with the above axios request methods\n\nexport default authService;\n","//\tlib/Auth.js\n\nimport React, { Component } from \"react\";\nimport authService from \"./auth-service\"; // IMPORT functions for axios requests to API\nconst { Consumer, Provider } = React.createContext();\n\n//HOC to create a Consumer\nconst withAuth = WrappedComponent => {\n  return class extends Component {\n    render() {\n      return (\n        <Consumer>\n          {({ login, signup, logout, user, refresh, isLoggedIn }) => {\n            return (\n              <WrappedComponent\n                user={user}\n                isLoggedIn={isLoggedIn}\n                refresh={refresh}\n                login={login}\n                signup={signup}\n                logout={logout}\n                {...this.props}\n              />\n            );\n          }}\n        </Consumer>\n      );\n    }\n  };\n};\n\n\n// // HOC - function component example of the same functionality\n// function withAuthFunc(WrappedComponent) {\n//   return function(props) {\n//     // props will belong to the WrappedComponent\n//     return (\n//       <Consumer>\n//         {value => <WrappedComponent {...value} {...props} />}\n//       </Consumer>\n//     );\n//   };\n// }\n\n\n// Provider\nclass AuthProvider extends React.Component {\n  state = {\n    isLoggedIn: false,\n    user: null,\n    isLoading: true\n  };\n\n  componentDidMount() {\n    authService\n      .me() //gives back a promise\n      .then(user =>\n        this.setState({ isLoggedIn: true, user: user, isLoading: false })\n      )\n      .catch(err =>\n        this.setState({ isLoggedIn: false, user: null, isLoading: false })\n      );\n  }\n\n  refresh = (userId) => {\n    authService\n    .refresh(userId)\n    .then(user => {\n      this.setState({user})\n      return user //\n    } )\n    .catch(err => console.log(err))\n  };\n\n  signup = (email, password) => {\n    authService\n      .signup({ email, password })\n      .then(user => this.setState({ isLoggedIn: true, user }))\n      .catch(err => console.log(err));\n  };\n\n  login = (email, password) => {\n    authService\n      .login({ email, password })\n      .then(user => this.setState({ isLoggedIn: true, user }))\n      .catch(err => console.log(err));\n  };\n\n  logout = () => {\n    authService\n      .logout()\n      .then(() => this.setState({ isLoggedIn: false, user: null }))\n      .catch(err => console.log(err));\n  };\n\n  render() {\n    const { isLoading, isLoggedIn, user } = this.state;\n    const { login, logout, signup, refresh } = this;\n\n    return (\n      <Provider value={{ isLoading, isLoggedIn, user, login, logout, signup, refresh }}>\n\n        {isLoading ? \"is loading\" : this.props.children}\n      </Provider>\n    );\n    /*\n      <Provider> `value={}` data will be available to all <Consumer> components \n    */\n  }\n}\n\nexport { withAuth, AuthProvider };\n//      Consumer ,  Provider\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"./../lib/Auth\";\n\nclass Navbar extends Component {\n  render() {\n    const { user, logout, isLoggedIn } = this.props;\n\n    return (\n      <nav className=\"navbar\">\n        <Link to={\"/\"} id=\"home-btn\">\n          <h4>Home</h4>\n        </Link>\n        \n        {isLoggedIn ? (\n          <>\n            <p>email: {user.email}</p>\n            <Link to={\"/collections\"} id=\"home-btn\"><h4>My Collections</h4></Link>\n            <Link to={\"/library\"} id=\"home-btn\"><h4>My Library</h4></Link>\n            <button onClick={logout}>Logout</button>\n          </>\n        ) : (\n          <>\n            <Link to=\"/login\">\n              {\" \"}\n              <button className=\"navbar-button\">Login</button>{\" \"}\n            </Link>\n            <br />\n            <Link to=\"/signup\">\n              {\" \"}\n              <button className=\"navbar-button\">Sign Up</button>{\" \"}\n            </Link>\n          </>\n        )}\n      </nav>\n    );\n  }\n}\n\nexport default withAuth(Navbar);\n","import axios from \"axios\";\n\nfunction fullSearch(query, filter, limit) {\n  if (!filter) filter=\"\"\n  let maxResults = (limit || limit < 40) ? limit : 10;\n  if (query.length > 2) {\n    return axios\n      .get(`${process.env.REACT_APP_GOOGLE_API_BASEURL}?q=${filter}${query}&key=${process.env.REACT_APP_GOOGLE_API_KEY}&maxResults=${maxResults}`)\n      .then(response => response.data.items)\n      .catch(error => {\n        console.log(error);\n      });\n  } else return [];\n}\n\nasync function getBook(id) {\n  try {\n     return await axios\n    .get(`${process.env.REACT_APP_GOOGLE_API_BASEURL}/${id}?&key=${process.env.REACT_APP_GOOGLE_API_KEY}`)\n    .then(response => response.data)\n    .catch(error => {\n      console.log(error);\n    });\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport {fullSearch, getBook};\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { withAuth } from \"./../lib/Auth\";\n\nclass BookCard extends Component {\n  render() {\n    return (\n      <div key={this.props.book.id}>\n        <Link to={`/book/${this.props.book.id}`}>\n          {!this.props.book.volumeInfo.imageLinks ? (\n            <img src=\"images/Image-Coming-Soon.png\" alt=\"\" />\n          ) : (\n            <img\n              src={this.props.book.volumeInfo.imageLinks.smallThumbnail}\n              alt=\"\"\n            />\n          )}\n        </Link>\n\n        <strong>\n          {!this.props.book.volumeInfo.title\n            ? \"Without title\"\n            : this.props.book.volumeInfo.title}\n        </strong>\n        {!this.props.book.volumeInfo.subtitle ? null : (\n          <p>{this.props.book.volumeInfo.subtitle}</p>\n        )}\n        <p>\n          {!this.props.book.volumeInfo.authors\n            ? \"Unknown Authors\"\n            : \"From \" +\n              this.props.book.volumeInfo.authors.map(author => author + \" \")}\n        </p>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(BookCard);\n","import axios from \"axios\";\n\nasync function modifyCollection(collectionId, items, name) {\n  try {\n    return await axios\n      .patch(\n        `${process.env.REACT_APP_API_URL}/collections/id/${collectionId}`,\n        { items, name }\n      )\n      .then(({ data }) =>\n        console.log(\"this is the response from modify Collection \", data)\n      )\n      .catch(error => {\n        console.log(error);\n      });\n  } catch (error) {\n    console.log(\"Error in modifyCollection: \", error);\n  }\n}\n\nasync function createCollectionWithItems(owner, items, name) {\n  try {\n    return await axios\n      .post(`${process.env.REACT_APP_API_URL}/collections`, {\n        owner,\n        items,\n        name\n      })\n      .then(({ data }) => console.log(\"this is the response data \", data))\n      .catch(error => {\n        console.log(error);\n      });\n  } catch (error) {\n    console.log(\"Error in createCollectionWithItems: \", error);\n  }\n}\n\nexport { modifyCollection, createCollectionWithItems };\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../lib/Auth\";\nimport { modifyCollection } from \"./../lib/collections-services\";\n\n/* \n    This Component needs\n    - List of the useres Collections (from propos. user)\n    - book id \"props.bookId\"\n    - \"modifyCollection\" Helper Function\n    This Components does\n    - find out what the current default collection is\n    - determine, if book is in this list or not\n    - allow to add/remoef it from default list\n \n*/\n\nclass DefaultCollectionButton extends Component {\n  state = {\n    defaultCollection: null,\n    loading: true\n  };\n\n  componentDidMount() {\n    let defaultCollection = this.getdefaultList();\n    this.setState({ defaultCollection: defaultCollection }, () =>\n      this.setState({ loading: false })\n    );\n  }\n\n  getdefaultList = () => {\n    return this.props.user.collections.filter(oneCol => {\n      return oneCol.default === true;\n    })[0]; // Important: Just one default collection\n  };\n\n  onDefaulftList = () => {\n    let defaultItems = this.state.defaultCollection.items;\n    return defaultItems.includes(this.props.bookId);\n  };\n\n\n  addToCollection = e => {\n    e.preventDefault();\n    let itemList = this.getItemList(e.target.id);\n    let newItemList = [];\n    newItemList.push(\n      e.target.attributes.getNamedItem(\"bookid\").value,\n      ...itemList\n    );\n    modifyCollection(e.target.id, newItemList, e.target.name); // collectionId, items, name\n    this.props.refresh(this.props.user._id);\n    this.forceUpdate();\n  };\n\n  removeFromCollection = e => {\n    e.preventDefault();\n    let itemList = this.getItemList(e.target.id);\n    const i = itemList.indexOf(\n      e.target.attributes.getNamedItem(\"bookid\").value\n    );\n    if (i > -1) itemList.splice(i, 1);\n    modifyCollection(e.target.id, itemList, e.target.name); // collectionId, items, name\n    this.props.refresh(this.props.user._id);\n    this.forceUpdate();\n  };\n\n  getItemList = collectionID => {\n    return this.props.user.collections.filter(oneCol => {\n      return oneCol._id === collectionID;\n    })[0].items;\n  };\n\n\n  render() {\n    const {_id, name, items} = this.getdefaultList()\n    return (\n      <div>\n        { items.includes(this.props.bookId) \n            ?  (\n              <button\n                key={_id}\n                onClick={this.removeFromCollection}\n                id={_id}\n                bookid={this.props.bookId}\n                name={name}\n                variant=\"dark\"\n              >\n                Remove from #{name}\n              </button>\n            )\n          \n           :  (\n              <button\n                key={_id}\n                onClick={this.addToCollection}\n                id={_id}\n                bookid={this.props.bookId}\n                name={name}\n                variant=\"light\"\n              >\n                Add to #{name}\n              </button>\n            )\n          }\n        \n        \n      </div>\n    );\n  }\n}\n\nexport default withAuth(DefaultCollectionButton);\n","import React, { Component } from \"react\";\nimport { fullSearch } from \"./../lib/bookAPI-helper\";\nimport BookCard from \"./BookCard\";\nimport { withAuth } from \"./../lib/Auth\";\nimport DefaultCollectionButton from \"./DefaultCollectionButton\";\nimport { Link } from \"react-router-dom\";\n\nclass Search extends Component {\n  state = {\n    searchFilter: \"\",\n    query: \"\",\n    results: [],\n    visibleResults: [],\n    expandedSearch: false\n  };\n  componentDidMount() {\n    if (this.props.user) this.props.refresh(this.props.user._id);\n  }\n\n  toggleExpandedSearch = () => {\n    this.setState({ expandedSearch: !this.state.expandedSearch });\n    !this.state.expandedSearch\n      ? this.setState({ visibleResults: this.state.results })\n      : this.setState({ visibleResults: this.state.results.slice(0, 4) });\n  };\n\n  formHandleChange = async e => {\n    e.preventDefault();\n    let { value, name } = e.target;\n    this.setState({ [name]: value });\n    try {\n      let results = await fullSearch(value, this.state.searchFilter, 40);\n      this.state.expandedSearch\n        ? this.setState({ visibleResults: results })\n        : this.setState({ visibleResults: results.slice(0, 4) });\n      this.setState({ results: results });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  handleSearchSettings = e => {\n    this.setState({ searchFilter: e.target.value });\n  };\n\n  render() {\n    return (\n      <div>\n        <h2>Search</h2>\n        <form>\n          <input\n            type=\"text\"\n            name=\"query\"\n            value={this.state.query}\n            onChange={this.formHandleChange}\n          />\n          <input\n            type=\"radio\"\n            id=\"all\"\n            name=\"searchFilter\"\n            value=\"\"\n            onChange={this.handleSearchSettings}\n            checked={this.state.searchFilter === \"\"}\n          />\n          <label htmlFor=\"all\">All Fields</label>\n\n          <input\n            type=\"radio\"\n            id=\"intitle:\"\n            name=\"searchFilter\"\n            value=\"intitle:\"\n            onChange={this.handleSearchSettings}\n            checked={this.state.searchFilter === \"intitle:\"}\n          />\n          <label htmlFor=\"intitle:\">Just Title</label>\n\n          <input\n            type=\"radio\"\n            id=\"inauthor:\"\n            name=\"searchFilter\"\n            value=\"inauthor:\"\n            onChange={this.handleSearchSettings}\n            checked={this.state.searchFilter === \"inauthor:\"}\n          />\n          <label htmlFor=\"inauthor:\">Just Author</label>\n\n          <input\n            type=\"radio\"\n            id=\"inpublisher:\"\n            name=\"searchFilter\"\n            value=\"inpublisher:\"\n            onChange={this.handleSearchSettings}\n            checked={this.state.searchFilter === \"inpublisher:\"}\n          />\n          <label htmlFor=\"inpublisher:\">Just Publisher</label>\n\n          <input\n            type=\"radio\"\n            id=\"isbn:\"\n            name=\"searchFilter\"\n            value=\"isbn:\"\n            onChange={this.handleSearchSettings}\n            checked={this.state.searchFilter === \"isbn:\"}\n          />\n          <label htmlFor=\"isbn:\">Just ISBN</label>\n        </form>\n        <h2>Result</h2>\n        <ul>\n          {this.state.visibleResults.map(book => {\n            return (\n              <div key={book.id}>\n                <BookCard  book={book} />\n                {this.props.user ? (\n                  \n                  <DefaultCollectionButton bookId={book.id} />\n                ) : (\n                  <Link to=\"/login\">\n                    log in to add this book to your library.\n                  </Link>\n                )}\n              </div>\n            );\n          })}\n          {this.state.results.length > 3 ? (\n            !this.state.expandedSearch ? (\n              <button onClick={this.toggleExpandedSearch}>\n                Show more results\n              </button>\n            ) : (\n              <button onClick={this.toggleExpandedSearch}>\n                Show less results\n              </button>\n            )\n          ) : null}\n\n          {!this.state.expandedSearch ? \"some additional control\" : null}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Search);\n","import React from 'react'\nimport Search from \"./../components/Search\"\n\nfunction Home() {\n  return (\n    <div> \n      <h1>This is the Home Page</h1>\n      <Search />\n    {/* <HomePageControls /> */}\n    </div>\n  )\n}\n\nexport default Home;","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"./../lib/Auth\";\n\nclass Signup extends Component {\n  state = { email: \"\", password: \"\" };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { email, password } = this.state;\n\n    this.props.signup(email, password);\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { email, password } = this.state;\n    return (\n      <div>\n        <h1>Sign Up</h1>\n\n        <form onSubmit={this.handleFormSubmit}>\n          <label>email:</label>\n          <input\n            type=\"text\"\n            name=\"email\"\n            value={email}\n            onChange={this.handleChange}\n          />\n\n          <label>Password:</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={this.handleChange}\n          />\n\n          <input type=\"submit\" value=\"Signup\" />\n        </form>\n\n        <p>Already have account?</p>\n        <Link to={\"/login\"}> Login</Link>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Signup);","import React, { Component } from \"react\";\nimport { withAuth } from \"./../lib/Auth\";\n\nclass Login extends Component {\n  state = { email: \"\", password: \"\" };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { email, password } = this.state;\n\n    this.props.login(email, password);\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { email, password } = this.state;\n\n    return (\n      <div>\n        <h1>Login</h1>\n\n        <form onSubmit={this.handleFormSubmit}>\n          <label>email:</label>\n          <input\n            type=\"text\"\n            name=\"email\"\n            value={email}\n            onChange={this.handleChange}\n          />\n\n          <label>Password:</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={this.handleChange}\n          />\n\n          <input type=\"submit\" value=\"Login\" />\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Login);\n","import React, { Component } from 'react'\n\nexport default class BookFilter extends Component {\n    state = {\n        query: \"\"\n    }\n\n    handleChange = e => {\n        e.preventDefault();\n        let { value, name  } = e.target;\n        this.props.filterList(value);\n        this.setState({ [name]: value });\n    };\n\n    render() {\n        return (\n            <div>\n                <form>\n                <input\n                    type=\"text\"\n                    name=\"query\"\n                    value={this.state.query}\n                    onChange={this.handleChange}\n                    placeholder=\"Filter by title\"\n                />\n                </form>\n            </div>\n        )\n    }\n}\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../lib/Auth\";\nimport {\n  createCollectionWithItems,\n  modifyCollection\n} from \"./../lib/collections-services\";\n\n/* NOTES \n    This modulre requires following Data\n    - collections from the user (Props)\n    - A Book ID\n    - Needs a minimal state (just for the form)\n    Functions\n    1) removeFromCollection\n    2) addToCollection\n    3) addToNewColl\n*/\n\nclass CollectionCloud extends Component {\n  state = {\n    newCollection: \"\"\n  };\n\n  addToCollection = e => {\n    e.preventDefault();\n    let itemList = this.getItemList(e.target.id);\n    let newItemList = [];\n    newItemList.push(\n      e.target.attributes.getNamedItem(\"bookid\").value,\n      ...itemList\n    );\n    modifyCollection(e.target.id, newItemList, e.target.name); // collectionId, items, name\n    this.props.refresh(this.props.user._id);\n    this.forceUpdate();\n  };\n\n  removeFromCollection = e => {\n    e.preventDefault();\n    let itemList = this.getItemList(e.target.id);\n    const i = itemList.indexOf(\n      e.target.attributes.getNamedItem(\"bookid\").value\n    );\n    if (i > -1) itemList.splice(i, 1);\n    modifyCollection(e.target.id, itemList, e.target.name); // collectionId, items, name\n    this.props.refresh(this.props.user._id);\n    this.forceUpdate();\n  };\n\n  getItemList = collectionID => {\n    return this.props.user.collections.filter(oneCol => {\n      return oneCol._id === collectionID;\n    })[0].items;\n  };\n\n  formHandleChange = async e => {\n    e.preventDefault();\n    let { value, name } = e.target;\n    if (value[value.length-1] === \" \") { \n      value = value.slice(0, -1)\n     }\n    //value = value.slice(1, value.length)\n    this.setState({ [name]: value });\n  };\n\n  addToNewColl = e => {\n    e.preventDefault();\n    createCollectionWithItems(\n      this.props.user._id,\n      [e.target.attributes.getNamedItem(\"bookid\").value],\n      this.state.newCollection\n    ); //owner, items, name\n    this.setState({newCollection: \"\"}, () => this.props.refresh(this.props.user._id));\n  };\n\n  render() {\n    return (\n      <div>\n        {this.props.user.collections.map(collection => {\n          if (collection.items.includes(this.props.bookId)) {\n            return (\n              <button\n                key={collection._id}\n                onClick={this.removeFromCollection}\n                id={collection._id}\n                bookid={this.props.bookId}\n                name={collection.name}\n                variant=\"dark\"\n              >\n                Remove from #{collection.name}\n              </button>\n            );\n          } else {\n            return (\n              <button\n                key={collection._id}\n                onClick={this.addToCollection}\n                id={collection._id}\n                bookid={this.props.bookId}\n                name={collection.name}\n                variant=\"light\"\n              >\n                Add to #{collection.name}\n              </button>\n            );\n          }\n        })}\n        <form>#\n          <input\n            type=\"text\"\n            name=\"newCollection\"\n            placeholder=\"newCollection\"\n            onChange={this.formHandleChange}\n            value={\"\"+this.state.newCollection}\n          />\n          <button\n            type=\"submit\"\n            bookid={this.props.bookId}\n            onClick={this.addToNewColl}\n          >\n            Create + add\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(CollectionCloud);\n","import React, { Component } from \"react\";\nimport BookCard from \"./BookCard\";\nimport { withAuth } from \"./../lib/Auth\";\n\nimport CollectionCloud from \"./CollectionCloud\";\n\nclass BookLibraryListing extends Component {\n  state = {\n    books: null,\n    loading: true\n  }\n  \n  componentDidMount() {\n    this.setState({books: this.props.loadedbooks}, () => this.setState({loading: true}))\n  }\n  render() {\n    return (\n      <div>\n        {this.props.loadedBooks.map(book => {\n          console.log(this.props)\n          return (\n            <div key={book.id}>\n              <BookCard book={book} />\n              <CollectionCloud bookId={book.id} />\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(BookLibraryListing);\n\n\n","import React, { Component } from \"react\";\nimport { withAuth } from \"./../lib/Auth\";\nimport BookFilter from \"./../components/BookFilter\";\nimport BookLibraryListing from \"./../components/BookLibraryListing\";\nimport { getBook } from \"./../lib/bookAPI-helper\";\n\nclass Library extends Component {\n  state = {\n    allBookIds: [],\n    loadedBooks: [],\n    loadedBooksDisplay: [],\n    loading: true,\n    nrOfAllBooks: 0,\n    nrOfBooksLoaded: 0,\n    nrOfBooksPerLoad: 10\n  };\n\n  componentDidMount() {\n    let consolidateId = [];\n    let loadedBooks = [];\n    console.log(this.consolidateBookIds())\n    const result = this.consolidateBookIds()\n      \n        console.log(\"0 - ids consolidated from Promise \", result);\n        consolidateId = result;\n        this.setState({ allBookIds: consolidateId }, () => {\n          this.loadBooks(consolidateId).then(\n            resultFromAPI => {\n              console.log(\">>> \", resultFromAPI[0])\n              this.setState({loadedBooks: resultFromAPI, loadedBooksDisplay: resultFromAPI}, () => this.setState({ loading: false}) )\n            }\n          );\n        }\n        )\n      \n\n    // Promise.resolve(loadedBooks).then(result => {\n    //   console.log(\"resolved loadedBooks\", result);\n    //   this.setState({ loadedBooks: result, loadedBooksDisplay: result}, () => {\n    //     console.log(\"3 - updated the state\");\n    //     console.log(\"4 - books after set state \", this.state.loadedBooks);\n    //this.loadhelper()\n    // });\n    //setState({loading: false})\n  }\n\n  consolidateBookIds = () => {\n    let idArray = [];\n    this.props.user.collections.forEach(collection => {\n      collection.items.map(item => idArray.push(item));\n    });\n    const uniqueIds = new Set(idArray);\n    let allBookIds = [...uniqueIds];\n    console.log(\"allBookIds from consolidateBookIds Function \", allBookIds);\n    return allBookIds;\n  };\n\n  loadBooks = ids => {\n    const bookPromises = ids.map(id => {\n      return getBook(id);\n    });\n    return Promise.all(bookPromises)\n  };\n\n  // loadhelper = () => {\n  //   if (this.state.loadedBooks[0] === undefined) {\n  //     console.log(\"loading\");\n  //   } else {\n  //     console.log(this.state.loadedBooks[0]);\n  //   }\n  //   setTimeout(() => {\n  //     this.setState({ loading: false }, () => {\n  //       console.log(\"5 - set sate to not loading\");\n  //       console.log(this.state.loadedBooks[0]);\n  //     });\n  //   }, 5000);\n  // };\n\n  filterList = query => {\n    let loadedBooksCopy = [...this.state.loadedBooks];\n    loadedBooksCopy = loadedBooksCopy.filter(book =>\n      book.volumeInfo.title.toLowerCase().includes(query.toLowerCase())\n    );\n    this.setState({ loadedBooksDisplay: loadedBooksCopy });\n  };\n\n  render() {\n    return (\n      <div>\n        <h1>My Library</h1>\n        <h2>See all your books, {this.props.user.email}</h2>\n        {this.state.loading ? (\n          \"Books are getting loaded\"\n        ) : (\n          <div>\n            <BookFilter filterList={this.filterList} />\n            <BookLibraryListing loadedBooks={this.state.loadedBooksDisplay} />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Library);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\n\nexport default class BookLineUnderCol extends Component {\n  state = {\n    markedForRemoval: false,\n    buttonText: \"Remove\"\n  };\n\n  componentDidMount() {\n    \n  }\n\n  toggleRemove = e => {\n    e.preventDefault();\n    let removalMarker = !this.state.markedForRemoval;\n    let buttonText = this.state.buttonText === \"Remove\" ? \"Keep\" : \"Remove\";\n    this.setState({ markedForRemoval: removalMarker, buttonText: buttonText });\n    removalMarker\n      ? this.props.doMarkForRemove(this.props.book.id)\n      : this.props.undoMarkForRemove(this.props.book.id);\n  };\n\n  render() {\n    return (\n      <li key={this.props.book.id}>\n          <span>\n          <Link to={`/book/${this.props.book.id}`}>{this.props.book.volumeInfo.title} </Link> - {this.props.book.volumeInfo.authors.map((a) => a)}\n            <button onClick={this.toggleRemove}>{this.state.buttonText}</button>\n          </span>\n\n      </li>\n    );\n  }\n}","import React, { Component } from \"react\";\nimport BookLineUnderCol from \"./BookLineUnderCol\";\nimport { modifyCollection } from \"./../lib/collections-services\";\nimport { getBook } from \"./../lib/bookAPI-helper\";\nimport { withAuth } from \"./../lib/Auth\";\n\nclass BookListUnderCol extends Component {\n  state = {\n    itemsToRemove: \"\",\n    booklist: false,\n    edited: false,\n    itemsResolved: [],\n    loading: false,\n  };\n  doMarkForRemove = id => {\n    let updatedItemsToRemove = [];\n    updatedItemsToRemove.push(id, ...this.state.itemsToRemove);\n    this.setState({ itemsToRemove: updatedItemsToRemove }, () => {\n      this.sthToSaveUpdater();\n      console.log(this.state.itemsToRemove)\n    });\n  };\n  undoMarkForRemove = id => {\n    let updatedItemsToRemove = this.state.itemsToRemove;\n    const i = updatedItemsToRemove.indexOf(id);\n    if (i > -1) updatedItemsToRemove.splice(i, 1);\n    this.setState({ itemsToRemove: updatedItemsToRemove }, () => {\n      this.sthToSaveUpdater();\n      console.log(this.state.itemsToRemove)\n    });\n  };\n\n  sthToSaveUpdater = () => {\n    if (\n      typeof this.state.itemsToRemove == \"object\" &&\n      this.state.itemsToRemove.length > 0\n    ) {\n      this.setState({ edited: true }, () => console.log(\"s.th. to update later? \", this.state.edited));\n    } else this.setState({ edited: false }, () => console.log(\"s.th. to update later? \", this.state.edited));\n  };\n\n  toggleBookList = e => {\n      if (!this.state.booklist) { this.loadBooks()} \n      this.setState({ booklist: !this.state.booklist });\n  };\n\n  saveAndClose = e => {\n    let newItemList = this.props.items;\n    this.state.itemsToRemove.forEach(item => {\n      const i = newItemList.indexOf(item);\n      if (i > -1) newItemList.splice(i, 1);\n    });\n    modifyCollection(this.props.collid, newItemList, this.props.collName); //// collectionId, items, name\n    this.props.refresh(this.props.user._id);\n    this.setState({itemsResolved: []})\n    this.toggleBookList();\n  };\n\n  loadBooks = () => {\n    if (this.state.itemsResolved.length === 0) {\n      this.setState({ loading: true})\n      this.props.items.forEach( item => {\n          let bookProm = getBook(item);\n          bookProm.then(result => {\n            let bookArray = []\n            bookArray.push(result, ...this.state.itemsResolved)\n            this.setState({\n              itemsResolved: bookArray\n            }, () => {if (this.state.itemsResolved.length === this.props.items.length) {\n              this.setState({loading: false}, () => console.log(\"finished loading: \", this.state.itemsResolved))}});\n          });\n        \n      });\n      \n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {!this.state.booklist \n          ? (this.props.items.length > 0 ? <button onClick={this.toggleBookList}>Show books</button> : null)\n          : (this.state.loading \n              ? (\"Currently loading\")\n              : (\n                <div>\n\n                  {!this.state.edited\n                  ? <button onClick={this.toggleBookList}>Hide Books</button>\n                  : <button onClick={this.saveAndClose}>Save & Hide</button>\n                  }\n                  <ul>\n                    {this.state.itemsResolved.map(book => {\n                      return (\n                        <BookLineUnderCol\n                          key={book.id}\n                          book={book}\n                          doMarkForRemove={this.doMarkForRemove}\n                          undoMarkForRemove={this.undoMarkForRemove}\n                        />\n                      );\n                    })}\n                  </ul>\n                </div>\n              ))\n        }\n      </div>\n    );\n  }\n}\n\nexport default withAuth(BookListUnderCol)","import React, { Component } from \"react\";\nimport { modifyCollection } from \"./../lib/collections-services\";\nimport BookListUnderCol from \"./BookListUnderCol\";\nimport { withAuth } from \"./../lib/Auth\";\n\nclass CollectionCard extends Component {\n  state = {\n    newName: \"\",\n    editmode: false\n  };\n  nameEditField = e => {\n    e.preventDefault();\n    this.setState({ editmode: true, newName: this.props.collection.name }); // anti pattern - ok?\n  };\n\n  formHandleChange = e => {\n    e.preventDefault();\n    let { value, name } = e.target;\n    this.setState({ [name]: value });\n  };\n\n  saveName = async e => {\n    e.preventDefault();\n    if (this.state.newName !== this.props.collection.name) {\n      try {\n        await modifyCollection(\n          this.props.collection._id,\n          this.props.collection.items,\n          this.state.newName\n        );\n      } catch (error) {\n        console.log(\"error while saving\", error);\n      }\n    }\n    this.props.refresh(this.props.user._id);\n    this.setState({ editmode: false, newName: \"\" });\n  };\n\n  render() {\n    const { name, items, _id} = this.props.collection;\n    return (\n      <li className=\"inlineEdit\" key={this.props.collection._id}>\n        {this.state.editmode ? (\n          <div>\n            <form className=\"inlineEdit\">\n              <button onClick={this.saveName}>\n                {\" \"}\n                {this.state.newName !== this.props.collection.name\n                  ? \"Save name\"\n                  : \"Keep name\"}{\" \"}\n              </button>{\" \"}\n              <input\n                type=\"text\"\n                name=\"newName\"\n                value={this.state.newName}\n                onChange={this.formHandleChange}\n              />\n            </form>\n            <span>, with {items.length} item(s) \"</span>\n          </div>\n        ) : (\n          <div>\n            <button onClick={this.nameEditField}>Edit name</button> {name}, with{\" \"}\n            {items.length} item(s){\" \"}\n          </div>\n        )}\n        \n          <BookListUnderCol key={_id} collid={_id} collName={name} items={items} />\n        \n      </li>\n    );\n  }\n}\n\nexport default withAuth(CollectionCard);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"./../lib/Auth\";\nimport CollectionCard from \"./../components/CollectionCard\";\n\nclass MyCollections extends Component {\n  componentDidMount() {\n    this.props.refresh(this.props.user._id);\n  }\n  render() {\n    return (\n      <div>\n        <h1>My Collections</h1>\n        <ul>\n          {this.props.user.collections.map(collection => {\n            return <CollectionCard key={collection._id} collection={collection} />;\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(MyCollections);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../lib/Auth\";\n\nclass MyCollectionsDetails extends Component {\n  render() {\n    return (\n      <div>\n        <h1>Private Route</h1>\n        <h1>Welcome {this.props.user.username}</h1>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(MyCollectionsDetails);\n","import React from 'react'\n\nexport default function BookProfile(props) {\n    console.log(\" >>\", props)\n    const {\n        title,\n        subtitle,\n        authors,\n        publisher,\n        publishedDate,\n        description,\n        imageLinks\n      } = props.book.volumeInfo;\n\n    return ( \n        <div>\n           {!(imageLinks).small \n               ? <img src=\"images/Image-Coming-Soon.png\" alt=\"\" />\n               : <img src={(imageLinks).small} alt=\"\" /> }\n            <h1>\n            {!title\n            ? \"Without title\"\n            : title}\n            </h1>\n            {!subtitle\n            ? null\n            : <h2>{subtitle}</h2>}\n            <h3>\n            {!authors\n            ? \"Unknown Authors\"\n            : \"From \"+ (authors.map(author => author+\" \"))}\n            </h3>\n            <p>\n            {!publisher\n                ? null\n                : (\"Published \" + (!publishedDate\n                                ? null\n                                :publishedDate) +\n               \" by \" + publisher)\n            }\n          </p>\n          {\n              !description\n              ? \"Description currently not available\"\n              : <p dangerouslySetInnerHTML={{__html: description}} />\n          }\n        </div>\n    )\n}\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../lib/Auth\";\nimport { getBook } from \"../lib/bookAPI-helper\";\nimport CollectionCloud from \"../components/CollectionCloud\";\nimport BookProfile from \"../components/BookProfile\";\n\nclass BookDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      book: {},\n      loading: true,\n    };\n  }\n\n  componentDidMount() {\n    this.props.refresh(this.props.user._id);\n    const { id } = this.props.match.params;\n    let bookProm = getBook(id);\n    bookProm.then(result => {\n      console.log(result)\n      this.setState({ book: result }, () => this.setState({loading: false}))\n    });\n  }\n\n  render() {\n    if (!this.state.loading) {\n      return (\n        <div>\n          <BookProfile book={this.state.book} />\n\n          <CollectionCloud key={this.state.book.id} bookId={this.state.book.id} />\n        </div>\n\n      );\n    } else return \"loading\";\n  }\n}\n\nexport default withAuth(BookDetail);\n","//\tcomponents/AnonRoute.js\n\nimport React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"../lib/Auth\";\n\nfunction AnonRoute({ component: Component, isLoggedIn, ...rest }) {\n  return (\n    // <Route\n    //   {...rest}\n    //   render={props =>\n    //     !isLoggedIn ? <Component {...props} /> : <Redirect to=\"/private\" />\n    //   }\n    // />\n    <Route\n      {...rest}\n      render={function(props) {\n        if (isLoggedIn) return <Redirect to=\"/\" />;\n        else if (!isLoggedIn) return <Component {...props} />;\n      }}\n    />\n  );\n}\n\nexport default withAuth(AnonRoute);\n","//\tcomponents/PrivateRoute.js\n\nimport React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"../lib/Auth\";\n\nfunction PrivateRoute({ component: Component, isLoggedIn, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={function(props) {\n        if (isLoggedIn) return <Component {...props} />;\n        else if (!isLoggedIn) return <Redirect to=\"/login\" />;\n      }}\n    />\n  );\n}\n\nexport default withAuth(PrivateRoute);\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport Navbar from \"./components/Navbar\";\nimport Home from \"./pages/Home\";\nimport Signup from \"./pages/Signup\";\nimport Login from \"./pages/Login\";\nimport Library from \"./pages/Library\";\nimport MyCollections from \"./pages/MyCollections\";\nimport MyCollectionsDetail from \"./pages/MyCollectionsDetail\";\nimport BookDetail from \"./pages/BookDetail\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nimport AnonRoute from \"./components/AnonRoute\";\nimport PrivateRoute from \"./components/PrivateRoute\";\n\nimport dotenv from \"dotenv\"\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"container\">\n        <Navbar />\n\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n\n          <AnonRoute exact path=\"/signup\" component={Signup} />\n          <AnonRoute exact path=\"/login\" component={Login} />\n\n          <PrivateRoute exact path=\"/collections\" component={MyCollections} />\n          <PrivateRoute\n            exact\n            path=\"/collections/:id\"\n            component={MyCollectionsDetail}\n          />\n          <PrivateRoute exact path=\"/library\" component={Library} />\n          <PrivateRoute exact path=\"/book/:id\" component={BookDetail} />\n        </Switch>\n        <link\n          rel=\"stylesheet\"\n          href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\n          integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\"\n          crossorigin=\"anonymous\"\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { AuthProvider } from \"./lib/Auth\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <Router>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </Router>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}